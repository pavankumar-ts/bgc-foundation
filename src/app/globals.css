@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    border-color: rgb(229 231 235);
  }

  body {
    @apply bg-white text-gray-900;
    font-feature-settings: "rlig" 1, "calt" 1;
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

  /* Exact Typography Hierarchy per Design Reference */
  h1, h2, h3, h4, h5, h6 {
    @apply tracking-tight;
  }

  /* H1 Hero: 3.75rem (60px), weight 700, line-height 1.1 */
  .hero-h1,
  h1.hero {
    font-size: 3.75rem;
    font-weight: 700;
    line-height: 1.1;
  }

  /* H2 Section: 2.25rem (36px), weight 600, line-height 1.2 */
  .section-h2,
  h2.section {
    font-size: 2.25rem;
    font-weight: 600;
    line-height: 1.2;
  }

  /* H3 Subsection: 1.875rem (30px), weight 600, line-height 1.3 */
  .subsection-h3,
  h3.subsection {
    font-size: 1.875rem;
    font-weight: 600;
    line-height: 1.3;
  }

  /* H4 Card Title: 1.25rem (20px), weight 600, line-height 1.4 */
  .card-h4,
  h4.card {
    font-size: 1.25rem;
    font-weight: 600;
    line-height: 1.4;
  }

  /* Body Large: 1.125rem (18px), weight 400, line-height 1.6 */
  .body-large {
    font-size: 1.125rem;
    font-weight: 400;
    line-height: 1.6;
  }

  /* Body Regular: 1rem (16px), weight 400, line-height 1.6 */
  .body-regular {
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.6;
  }

  /* Caption: 0.875rem (14px), weight 500, line-height 1.5 */
  .caption {
    font-size: 0.875rem;
    font-weight: 500;
    line-height: 1.5;
  }

  /* Improved focus visibility for accessibility */
  *:focus-visible {
    outline: 2px solid #13b2c0;
    outline-offset: 2px;
  }

  /* Smooth scrolling for anchor links */
  html {
    scroll-behavior: smooth;
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    *:focus-visible {
      outline: 2px solid #000;
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Print styles */
  @media print {
    .no-print {
      display: none !important;
    }
    
    body {
      @apply text-black bg-white;
    }
    
    h1, h2, h3, h4, h5, h6 {
      page-break-after: avoid;
    }
  }
}

@layer components {
  /* Healthcare-specific component patterns */
  .medical-card {
    @apply bg-white rounded-xl border border-gray-200 shadow-md hover:shadow-lg transition-shadow duration-300;
  }

  .impact-metric {
    @apply text-center p-6 rounded-lg bg-gradient-to-br from-primary-50 to-primary-100 border border-primary-200;
  }

  .trust-indicator {
    @apply flex items-center space-x-2 text-sm text-gray-600 bg-gray-50 px-3 py-1 rounded-full;
  }

  .donation-tier {
    @apply p-6 rounded-xl border-2 border-transparent hover:border-primary-500 transition-all duration-300 cursor-pointer;
  }

  .donation-tier.selected {
    @apply border-primary-500 bg-primary-50;
  }

  /* Container System per Design Reference */
  .main-container {
    max-width: 1440px;
    margin: 0 auto;
    padding: 0 1rem;
  }
  
  .wide-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 1rem;
  }
  
  .narrow-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 1rem;
  }

  /* Legacy support */
  .section-container {
    @apply main-container;
  }

  @media (min-width: 768px) {
    .main-container,
    .wide-container,
    .narrow-container {
      padding: 0 2rem;
    }
  }

  @media (min-width: 1024px) {
    .main-container,
    .wide-container,
    .narrow-container {
      padding: 0 3rem;
    }
  }

  /* Section Spacing System: 4rem mobile, 6rem tablet, 8rem desktop */
  .section-spacing {
    padding-top: 4rem;
    padding-bottom: 4rem;
  }

  @media (min-width: 768px) {
    .section-spacing {
      padding-top: 6rem;
      padding-bottom: 6rem;
    }
  }

  @media (min-width: 1024px) {
    .section-spacing {
      padding-top: 4rem;
      padding-bottom: 4rem;
    }
  }

  .gradient-text {
    /* Fallback color for better browser compatibility */
    color: #0d7c88; /* primary-600 fallback */
    background: linear-gradient(to right, #0d7c88, #2b2868);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  
  /* Fallback for browsers that don't support background-clip: text */
  @supports not (background-clip: text) {
    .gradient-text {
      color: #0d7c88;
      -webkit-text-fill-color: unset;
    }
  }

  .hero-gradient {
    background: linear-gradient(135deg, 
      rgba(19, 178, 192, 0.05) 0%, 
      rgba(43, 40, 104, 0.05) 100%);
  }

  /* Loading states */
  .skeleton {
    @apply animate-pulse bg-gray-200 rounded;
  }

  /* Error states */
  .error-state {
    @apply text-primary-600 bg-primary-50 border border-primary-200 p-4 rounded-lg;
  }

  /* Success states */
  .success-state {
    @apply text-secondary-600 bg-secondary-50 border border-secondary-200 p-4 rounded-lg;
  }
}

@layer utilities {
  /* Custom utilities for healthcare design */
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  /* Medical-grade spacing */
  .space-medical > * + * {
    margin-top: 1.618rem; /* Golden ratio spacing */
  }

  /* Accessibility utilities */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* High contrast mode utilities */
  .high-contrast-border {
    @apply border-2 border-gray-900;
  }

  @media (prefers-contrast: high) {
    .high-contrast-border {
      @apply border-4 border-black;
    }
  }
}

/* Animation System per Design Reference */

/* Micro-interactions: 0.3s ease-in-out transitions */
.micro-transition {
  transition: all 0.3s ease-in-out;
}

/* Button Clicks: 0.2s scale transform */
.button-click {
  transition: transform 0.2s ease-in-out;
}

.button-click:active {
  transform: scale(0.98);
}

/* Card Hovers: Lift effect with shadow increase */
.card-hover {
  transition: all 0.15s ease-out;
}

.card-hover:hover {
  transform: translateY(-4px);
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* Loading States: Subtle pulse animations */
@keyframes pulse-subtle {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

.loading-pulse {
  animation: pulse-subtle 2s ease-in-out infinite;
}

/* Scroll Animations: Fade In with 0.6s duration */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fadeInUp 0.6s ease-out;
}

/* Smooth Video Section Animations */
@keyframes smoothFadeInUp {
  0% {
    opacity: 0;
    transform: translateY(40px);
  }
  60% {
    opacity: 0.8;
    transform: translateY(-2px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes smoothScaleIn {
  0% {
    opacity: 0;
    transform: translateY(60px) scale(0.92);
  }
  50% {
    opacity: 0.7;
    transform: translateY(10px) scale(0.98);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes videoGlow {
  0% {
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  }
  50% {
    box-shadow: 0 25px 50px -12px rgba(59, 130, 246, 0.15), 0 35px 60px -12px rgba(0, 0, 0, 0.2);
  }
  100% {
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  }
}

.animate-smooth-fade-in-up {
  animation: smoothFadeInUp 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.animate-smooth-scale-in {
  animation: smoothScaleIn 1.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.animate-video-glow {
  animation: videoGlow 3s ease-in-out infinite;
}

/* Counter Animation: Numbers count up when in viewport */
@keyframes countUp {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-count-up {
  animation: countUp 0.8s ease-out;
}

/* Stagger Effect: Card grids animate with 0.1s delays */
@keyframes staggerFade {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-stagger {
  animation: staggerFade 0.6s ease-out;
}

/* Scale In Animation */
@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-scale-in {
  animation: scaleIn 0.4s ease-out;
}

/* Slide In Right Animation */
@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-slide-in-right {
  animation: slideInRight 0.5s ease-out;
}

/* Bounce Animation for Scroll Indicator */
@keyframes bounce-gentle {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-10px);
  }
  60% {
    transform: translateY(-5px);
  }
}

.animate-bounce-gentle {
  animation: bounce-gentle 2s infinite;
}

/* Parallax Effect */
.parallax-element {
  transition: transform 0.1s ease-out;
}

/* Staggered Animation Delays */
.animate-delay-100 {
  animation-delay: 100ms;
}

.animate-delay-200 {
  animation-delay: 200ms;
}

.animate-delay-300 {
  animation-delay: 300ms;
}

.animate-delay-400 {
  animation-delay: 400ms;
}

.animate-delay-500 {
  animation-delay: 500ms;
}

.animate-delay-600 {
  animation-delay: 600ms;
}

/* Page Transitions: 0.4s fade transition */
.page-transition {
  transition: opacity 0.4s ease-in-out;
}

/* Modal Overlays: Scale and fade entrance */
@keyframes modalEnter {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.modal-enter {
  animation: modalEnter 0.3s ease-out;
}

/* Mobile Menu: Slide-in from right with backdrop */
@keyframes slideInFromRight {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

.mobile-menu-slide {
  animation: slideInFromRight 0.3s ease-out;
}

/* Gradient Animation for Loading States */
@keyframes gradientShimmer {
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: calc(200px + 100%) 0;
  }
}

.shimmer {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200px 100%;
  animation: gradientShimmer 1.5s infinite;
}
